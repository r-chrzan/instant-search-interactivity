{"version":3,"file":"view.js","mappings":";;;;;;;;;AAAA;;;;;;;;;;ACAA;AACA,aAAa,6BAA6B;AAC1C;AACA;AACA;;;;;;SCJA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UCtBA;UACA;UACA;UACA,uDAAuD,iBAAiB;UACxE;UACA,gDAAgD,aAAa;UAC7D;;;;;;;;;;;;ACHkC;AAGlC,MAAME,OAAO,GAAGC,GAAG,IAAI,CAACC,MAAM,EAAEC,KAAK,CAAC,CAACC,QAAQ,CAAC,CAACH,GAAG,IAAI,CAAC,CAAC,EAAEI,WAAW,CAAC,IAAI,CAACH,MAAM,CAACI,OAAO,CAAEL,GAAG,IAAI,CAAC,CAAE,CAAC,CAACM,MAAM;AAE/G,MAAMC,SAAS,GAAG,MAAAA,CAAOC,KAAK,EAAEC,IAAI,KAAK;EAEvC,MAAMC,GAAG,GAAG,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAAC;EACpC,MAAM;IAAEC;EAAQ,CAAC,GAAG,MAAM,8JAAyC;EAEnE,IAAI,MAAM,KAAKL,IAAI,EAAE;IACpB,IAAI,CAACV,OAAO,CAACS,KAAK,CAAC,EAAE;MACpBE,GAAG,CAACK,YAAY,CAACC,GAAG,CAAC,MAAM,EAAER,KAAK,CAAC;IACpC,CAAC,MAAM;MACJE,GAAG,CAACK,YAAY,CAACE,MAAM,CAAC,MAAM,CAAC;IAClC;EACD;EACA,IAAI,QAAQ,KAAKR,IAAI,EAAE;IACtB,IAAI,CAACV,OAAO,CAACS,KAAK,CAAC,EAAE;MACpBE,GAAG,CAACK,YAAY,CAACC,GAAG,CAAC,QAAQ,EAAER,KAAK,CAAC;IACvC,CAAC,MAAM;MACNE,GAAG,CAACK,YAAY,CAACE,MAAM,CAAC,QAAQ,CAAC;IAClC;EACD;EAEA,MAAMH,OAAO,CAACI,QAAQ,CAAC,GAAGN,MAAM,CAACC,QAAQ,CAACM,QAAQ,GAAGT,GAAG,CAACU,MAAM,EAAE,CAAC;AACnE,CAAC;AAED,MAAM;EAAEC;AAAM,CAAC,GAAGxB,+DAAK,CAAC,eAAe,EAAE;EACvCiB,OAAO,EAAE;IACP,CAACQ,YAAYA,CAAA,EAAG;MACd,MAAM;QAAEC;MAAI,CAAC,GAAGzB,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAEU,KAAK;QAAEC;MAAK,CAAC,GAAGc,GAAG;;MAE7B;MACH,IAAI,QAAQ,KAAKd,IAAI,IAAID,KAAK,KAAKa,KAAK,CAACD,MAAM,EAAE;MACjD,IAAI,MAAM,KAAKX,IAAI,IAAID,KAAK,KAAKa,KAAK,CAACG,IAAI,EAAE;MAExC,IAAI,MAAM,KAAKf,IAAI,EAAE;QACnBY,KAAK,CAACG,IAAI,GAAGhB,KAAK;MACpB;MAEA,IAAI,QAAQ,KAAKC,IAAI,EAAE;QACzBY,KAAK,CAACD,MAAM,GAAGZ,KAAK;MAClB;;MAEA;MACA,MAAMD,SAAS,CAACC,KAAK,EAAEC,IAAI,CAAC;IAC9B,CAAC;IAED,CAACgB,gBAAgBA,CAAA,EAAI;MACnB,MAAM;QAAEX;MAAQ,CAAC,GAAG,MAAM,8JAEzB;MAEL,MAAMA,OAAO,CAACI,QAAQ,CAAC,GAAGN,MAAM,CAACC,QAAQ,CAACM,QAAQ,EAAE,CAAC;IACnD;EACF;AACF,CAAC,CAAC,C","sources":["webpack://instant-search-interactivity/external import \"@wordpress/interactivity-router\"","webpack://instant-search-interactivity/external module \"@wordpress/interactivity\"","webpack://instant-search-interactivity/webpack/bootstrap","webpack://instant-search-interactivity/webpack/runtime/make namespace object","webpack://instant-search-interactivity/./src/view.js"],"sourcesContent":["module.exports = import(\"@wordpress/interactivity-router\");;","var x = (y) => {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = (x) => (() => (x))\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n  store,\n  getElement\n} from '@wordpress/interactivity';\n\n\nconst isEmpty = obj => [Object, Array].includes((obj || {}).constructor) && !Object.entries((obj || {})).length;\n\nconst updateURL = async (value, name) => {\n\n  const url = new URL(window.location);\n  const { actions } = await import('@wordpress/interactivity-router');\n\n  if ('pcat' === name) {\n\t  if (!isEmpty(value)) {\n\t\t  url.searchParams.set('pcat', value);\n\t  } else {\n      url.searchParams.delete('pcat');\n\t  }\n  }\n  if ('search' === name) {\n\t  if (!isEmpty(value)) {\n\t\t  url.searchParams.set('search', value);\n\t\t} else {\n\t\t\turl.searchParams.delete('search');\n\t\t}\n\t}\n\n\tawait actions.navigate(`${window.location.pathname}${url.search}`);\n};\n\nconst { state } = store('instantSearch', {\n  actions: {\n    *updateSearch() {\n      const { ref } = getElement();\n      const { value, name } = ref;\n\n    // Don't navigate if the search didn't really change.\n\tif ('search' === name && value === state.search) return;\n\tif ('pcat' === name && value === state.pcat) return;\n\n      if ('pcat' === name) {\n        state.pcat = value;\n      }\n\n      if ('search' === name) {\n\t\t  state.search = value;\n      }\n\n      // If not, navigate to the new URL.\n      yield updateURL(value, name);\n    },\n\n    *removeAllFilters () {\n      const { actions } = yield import(\n        '@wordpress/interactivity-router'\n      );\n\n\t\tyield actions.navigate(`${window.location.pathname}`);\n    },\n  },\n});"],"names":["store","getElement","isEmpty","obj","Object","Array","includes","constructor","entries","length","updateURL","value","name","url","URL","window","location","actions","searchParams","set","delete","navigate","pathname","search","state","updateSearch","ref","pcat","removeAllFilters"],"sourceRoot":""}